{"ast":null,"code":"import _regeneratorRuntime from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React from'react';import InfiniteScroll from'react-infinite-scroller';import{connect}from'react-redux';import{fetchSerises}from'../../actions';var SeriseList=/*#__PURE__*/function(_React$Component){_inherits(SeriseList,_React$Component);function SeriseList(props){var _this;_classCallCheck(this,SeriseList);_this=_possibleConstructorReturn(this,_getPrototypeOf(SeriseList).call(this,props));_this.renderSerise=function(serise){if(serise===undefined)return;if(serise==={})return;var _serise=_objectSpread({},serise),title=_serise.title,author=_serise.author,posts=_serise.posts;//we need date of serise, id of serise\nreturn React.createElement(\"div\",null,React.createElement(\"div\",{className:\"serise-content\"},React.createElement(\"div\",{className:\"serise-card\"},React.createElement(\"div\",{className:\"serise-title\"},\" \",title,\" \"),React.createElement(\"div\",{className:\"serise-author\"},\" \",author,\" \"),React.createElement(\"div\",{className:\"serise-date\"},\" Oct.22.2019 \"),React.createElement(\"div\",{className:\"serise-Intro\"},\" LoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoerm\"))));};_this.seriseLoader=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(page){var endSeriseFlag,start,end,serise,i;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return _this.props.fetchSerises(page-1);case 2:endSeriseFlag=_context.sent;if(endSeriseFlag===false){_this.setState(function(state){return{hasMoreItems:false};});}// Starting point of page is 1, So we need to set it as 0\nstart=(page-1)*5;end=page*5;serise=[];for(i=start;i<end;i++){serise.push(_this.renderSerise(_this.props.serise[i]));}_this.setState(function(state){return{prettySerise:_this.state.prettySerise.concat(serise)};});case 9:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={hasMoreItems:true,prettySerise:[]};return _this;}_createClass(SeriseList,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"infinite-scroll\"},React.createElement(InfiniteScroll,{pageState:0,loadMore:this.seriseLoader,hasMore:this.state.hasMoreItems,loader:React.createElement(\"div\",{className:\"loader\",key:0},\"Loading ...\")},this.state.prettySerise));}}]);return SeriseList;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{serise:state.serise,currentId:state.auth.userId,isSignedIn:state.auth.siSignedIn};};export default connect(mapStateToProps,{fetchSerises:fetchSerises})(SeriseList);","map":{"version":3,"sources":["/home/ec2-user/DUMDEV/mywebsite/src/components/pages/SerisePage.js"],"names":["React","InfiniteScroll","connect","fetchSerises","SeriseList","props","renderSerise","serise","undefined","title","author","posts","seriseLoader","page","endSeriseFlag","setState","state","hasMoreItems","start","end","i","push","prettySerise","concat","Component","mapStateToProps","currentId","auth","userId","isSignedIn","siSignedIn"],"mappings":"y8DAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,yBAA3B,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,YAAT,KAA6B,eAA7B,C,GAEMC,CAAAA,U,gFACL,oBAAYC,KAAZ,CAAkB,4CACjB,4EAAMA,KAAN,GADiB,MAOlBC,YAPkB,CAOH,SAACC,MAAD,CAAY,CAC1B,GAAGA,MAAM,GAAKC,SAAd,CAAyB,OACzB,GAAGD,MAAM,GAAK,EAAd,CAAkB,OAFQ,6BAGYA,MAHZ,EAGlBE,KAHkB,SAGlBA,KAHkB,CAGXC,MAHW,SAGXA,MAHW,CAGHC,KAHG,SAGHA,KAHG,CAI1B;AACA,MAAQ,gCACL,2BAAK,SAAS,CAAC,gBAAf,EACC,2BAAK,SAAS,CAAC,aAAf,EACC,2BAAK,SAAS,CAAC,cAAf,MAAgCF,KAAhC,KADD,CAEC,2BAAK,SAAS,CAAC,eAAf,MAAkCC,MAAlC,KAFD,CAGC,2BAAK,SAAS,CAAC,aAAf,kBAHD,CAIC,2BAAK,SAAS,CAAC,cAAf,mIAJD,CADD,CADK,CAAR,CAYA,CAxBiB,OA0BlBE,YA1BkB,0FA0BH,iBAAMC,IAAN,6KAEc,OAAKR,KAAL,CAAWF,YAAX,CAAwBU,IAAI,CAAC,CAA7B,CAFd,QAERC,aAFQ,eAGX,GAAIA,aAAa,GAAK,KAAtB,CAA4B,CAC9B,MAAKC,QAAL,CAAe,SAACC,KAAD,CAAW,CAAE,MAAO,CAACC,YAAY,CAAE,KAAf,CAAP,CAA8B,CAA1D,EACA,CACD;AACMC,KAPQ,CAOA,CAACL,IAAI,CAAC,CAAN,EAAS,CAPT,CAQRM,GARQ,CAQDN,IAAD,CAAO,CARL,CASRN,MATQ,CASC,EATD,CAUd,IAASa,CAAT,CAAWF,KAAX,CAAkBE,CAAC,CAACD,GAApB,CAAyBC,CAAC,EAA1B,CAA6B,CAC5Bb,MAAM,CAACc,IAAP,CAAY,MAAKf,YAAL,CAAkB,MAAKD,KAAL,CAAWE,MAAX,CAAkBa,CAAlB,CAAlB,CAAZ,EACA,CACD,MAAKL,QAAL,CAAc,SAAAC,KAAK,CAAI,CACrB,MAAO,CAAEM,YAAY,CAAE,MAAKN,KAAL,CAAWM,YAAX,CAAwBC,MAAxB,CAA+BhB,MAA/B,CAAhB,CAAP,CACD,CAFD,EAbc,sDA1BG,+DAEjB,MAAKS,KAAL,CAAa,CACZC,YAAY,CAAE,IADF,CAEZK,YAAY,CAAC,EAFD,CAAb,CAFiB,aAMjB,C,8DAsCO,CACP,MACE,4BAAK,SAAS,CAAC,iBAAf,EACC,oBAAC,cAAD,EACE,SAAS,CAAE,CADb,CAEE,QAAQ,CAAE,KAAKV,YAFjB,CAGE,OAAO,CAAE,KAAKI,KAAL,CAAWC,YAHtB,CAIE,MAAM,CAAE,2BAAK,SAAS,CAAC,QAAf,CAAwB,GAAG,CAAE,CAA7B,gBAJV,EAMG,KAAKD,KAAL,CAAWM,YANd,CADD,CADF,CAaA,C,wBA3DuBtB,KAAK,CAACwB,S,EA8D/B,GAAMC,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAACT,KAAD,CAAW,CAClC,MAAO,CACLT,MAAM,CAAES,KAAK,CAACT,MADT,CAELmB,SAAS,CAAEV,KAAK,CAACW,IAAN,CAAWC,MAFjB,CAGLC,UAAU,CAAEb,KAAK,CAACW,IAAN,CAAWG,UAHlB,CAAP,CAKA,CAND,CAQA,cAAe5B,CAAAA,OAAO,CAACuB,eAAD,CAAkB,CAAEtB,YAAY,CAAZA,YAAF,CAAlB,CAAP,CAA2CC,UAA3C,CAAf","sourcesContent":["import React from 'react';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { connect } from 'react-redux';\nimport { fetchSerises } from '../../actions';\n\nclass SeriseList extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thasMoreItems: true,\n\t\t\tprettySerise:[]\n\t\t}\n\t}\n\trenderSerise = (serise) => {\n\t\tif(serise === undefined) return;\n\t\tif(serise === {}) return;\n\t\tconst { title, author, posts } = { ...serise};\t\t \n\t\t//we need date of serise, id of serise\n\t\treturn (<div>\n\t\t\t\t\t<div className=\"serise-content\">\n\t\t\t\t\t\t<div className=\"serise-card\">\n\t\t\t\t\t\t\t<div className=\"serise-title\"> {title} </div>\n\t\t\t\t\t\t\t<div className=\"serise-author\"> { author } </div>\n\t\t\t\t\t\t\t<div className=\"serise-date\"> Oct.22.2019 </div>\n\t\t\t\t\t\t\t<div className=\"serise-Intro\"> LoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoermLoerm</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t);\n\n\t}\n\n\tseriseLoader = async(page) => {\n\t\t// controll end of Infinty scroll\t\n\t\tconst endSeriseFlag = await this.props.fetchSerises(page-1);\n\t    if( endSeriseFlag === false){\n\t\t\tthis.setState( (state) => { return {hasMoreItems: false }});\n\t\t}\n\t\t// Starting point of page is 1, So we need to set it as 0\n\t\tconst start = (page-1)*5;\n\t\tconst end = (page)*5;\n\t\tconst serise = [];\n\t\tfor( let i=start; i<end; i++){\n\t\t\tserise.push(this.renderSerise(this.props.serise[i]));\n\t\t}\n\t\tthis.setState(state => {\n\t\t\t\treturn { prettySerise: this.state.prettySerise.concat(serise)}\n\t\t});\n\t}\n\t\n\trender(){\n\t\treturn (\n\t\t\t\t<div className=\"infinite-scroll\">\n\t\t\t\t\t<InfiniteScroll\n\t\t\t\t\t\t\tpageState={0}\n\t\t\t\t\t\t\tloadMore={this.seriseLoader}\n\t\t\t\t\t\t\thasMore={this.state.hasMoreItems}\n\t\t\t\t\t\t\tloader={<div className=\"loader\" key={0}>Loading ...</div>}\n\t\t\t\t\t>\n\t\t\t\t\t\t{ this.state.prettySerise}\n\t\t\t\t\t</InfiniteScroll>\n\n\t\t\t\t</div>\n\t\t)\n\t}\n}\n\nconst mapStateToProps = (state) => {\n\treturn {\n\t\t\tserise: state.serise,\n\t\t\tcurrentId: state.auth.userId,\n\t\t\tisSignedIn: state.auth.siSignedIn\n\t};\n}\n\nexport default connect(mapStateToProps, { fetchSerises })(SeriseList);\n"]},"metadata":{},"sourceType":"module"}