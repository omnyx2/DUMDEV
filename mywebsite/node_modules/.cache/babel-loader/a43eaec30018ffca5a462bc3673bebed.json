{"ast":null,"code":"import _regeneratorRuntime from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _classCallCheck from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _taggedTemplateLiteral from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n\\tpadding: 5%\\n\\tflex: 9 0 700px;\\n\\tmax-width: 700px;\\n\\tmin-width: 600px;\\n\\tdisplay: block;\\n\\tdisplay: inline-block; \\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n\\tdisplay: block;\\n\\tmax-width: 700px;\\n\\tflex: 9 0 600px;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n\\tflex: 1 0 70px;\\n\\tmax-width: 100px;\\n\\tpadding-right: 150px;\\n\\tpadding-left: 10px;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from'react';import PostForm from'./PostFormPage';import{post}from'../../../apis/serverRequest';import TagsInput from'react-tagsinput';import PostTypeSelector from'./PostTypeSelector';import styled from'styled-components';import PostMarkdown from'./PostMarkdown';import PostSubmit from'./PostSubmit';// const StyledPostSubmit = styled(PostSubmit)`\n// `;\n// const StyledTagsInput = styled(TagsInput)`\n// `;\nvar StyledPostTypeSelector=styled(PostTypeSelector)(_templateObject());var StyledPostForm=styled(PostForm)(_templateObject2());var StyledPostMarkdown=styled(PostMarkdown)(_templateObject3());var CreatePost=/*#__PURE__*/function(_React$Component){_inherits(CreatePost,_React$Component);function CreatePost(){var _this;_classCallCheck(this,CreatePost);_this=_possibleConstructorReturn(this,_getPrototypeOf(CreatePost).call(this));_this.initValue=function(){var _this$state=_objectSpread({},_this.state),mainTitle=_this$state.mainTitle,subTitle=_this$state.subTitle,content=_this$state.content,tags=_this$state.tags;return{tags:tags,mainTitle:mainTitle,subTitle:subTitle,content:content};};_this.handleTagsChange=function(tags){_this.setState({tags:tags});localStorage.setItem('rememberPost',JSON.stringify(_this.state));};_this.handleCommit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.handlePostType=function(type){_this.setState({type:type});console.log(_this.state.type);};_this.handleSave=function(childState){_this.setState({mainTitle:childState.mainTitle});_this.setState({content:childState.content});_this.setState({subTitle:childState.subTitle});console.log(_this.state);localStorage.setItem('rememberPost',JSON.stringify(_this.state));};var _mainTitle='Title',_tags=['default'],_subTitle='Sub title',_content='fill in ...',_type='POST';var rememberPost=JSON.parse(localStorage.getItem('rememberPost'));if(rememberPost!=null){_mainTitle=rememberPost.mainTitle?rememberPost.mainTitle:_mainTitle;_tags=rememberPost.tags?rememberPost.tags:[];_subTitle=rememberPost.subTitle?rememberPost.subTitle:_subTitle;_content=rememberPost.content?rememberPost.content:_content;}_this.state={type:_type,tags:_tags,mainTitle:_mainTitle,subTitle:_subTitle,content:_content};return _this;}_createClass(CreatePost,[{key:\"render\",value:function render(){return React.createElement(\"div\",{className:\"posting\"},React.createElement(\"div\",{className:\"plain-post-form-0\"},React.createElement(\"div\",{className:\"plain-post-form-1\"},React.createElement(\"div\",{style:{display:'flex',flexDirection:'row'},className:\"plain-post-form-2\"},React.createElement(StyledPostForm,{onSave:this.handleSave,post:this.initValue()}),React.createElement(StyledPostTypeSelector,{handlePostType:this.handlePostType}),React.createElement(StyledPostMarkdown,{post:this.state})),React.createElement(TagsInput,{value:this.state.tags,onChange:this.handleTagsChange}),React.createElement(PostSubmit,{data:this.handleCommit,target:post,method:\"post\",value:\"Commit\"}))));}}]);return CreatePost;}(React.Component);export default CreatePost;","map":{"version":3,"sources":["/home/ec2-user/DUMDEV/mywebsite/src/components/pages/post/PostCreatePage.js"],"names":["React","PostForm","post","TagsInput","PostTypeSelector","styled","PostMarkdown","PostSubmit","StyledPostTypeSelector","StyledPostForm","StyledPostMarkdown","CreatePost","initValue","state","mainTitle","subTitle","content","tags","handleTagsChange","setState","localStorage","setItem","JSON","stringify","handleCommit","data","handlePostType","type","console","log","handleSave","childState","rememberPost","parse","getItem","display","flexDirection","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PostForm from './PostFormPage';\nimport {post} from '../../../apis/serverRequest';\nimport TagsInput from 'react-tagsinput';\nimport PostTypeSelector from './PostTypeSelector';\nimport styled from 'styled-components';\nimport PostMarkdown from './PostMarkdown';\nimport PostSubmit from './PostSubmit';\n// const StyledPostSubmit = styled(PostSubmit)`\n// `;\n// const StyledTagsInput = styled(TagsInput)`\n// `;\nconst StyledPostTypeSelector = styled(PostTypeSelector)`\n\tflex: 1 0 70px;\n\tmax-width: 100px;\n\tpadding-right: 150px;\n\tpadding-left: 10px;\n`;\nconst StyledPostForm = styled(PostForm)`\n\tdisplay: block;\n\tmax-width: 700px;\n\tflex: 9 0 600px;\n`;\nconst StyledPostMarkdown = styled(PostMarkdown)`\n\tpadding: 5%\n\tflex: 9 0 700px;\n\tmax-width: 700px;\n\tmin-width: 600px;\n\tdisplay: block;\n\tdisplay: inline-block; \n`;\n\n\n\nclass CreatePost extends React.Component {\n  constructor() {\n    super();\n    let mainTitle = 'Title',\n      tags = ['default'],\n      subTitle = 'Sub title',\n\t  content = 'fill in ...',\n\t  type='POST';\n    const rememberPost = JSON.parse(localStorage.getItem('rememberPost'));\n    if (rememberPost != null) {\n      mainTitle = rememberPost.mainTitle ? rememberPost.mainTitle : mainTitle;\n      tags = rememberPost.tags ? rememberPost.tags : [];\n      subTitle = rememberPost.subTitle ? rememberPost.subTitle : subTitle;\n      content = rememberPost.content ? rememberPost.content : content;\n    }\n\tthis.state = {\n\t  type,\n      tags,\n      mainTitle,\n      subTitle,\n      content,\n    };\n  }\n\n  initValue = () => {\n    const {mainTitle, subTitle, content, tags} = {...this.state};\n    return {\n      tags,\n      mainTitle,\n      subTitle,\n      content,\n    };\n  };\n\t\t\n  handleTagsChange = tags => {\n    this.setState({tags: tags});\n    localStorage.setItem('rememberPost', JSON.stringify(this.state));\n  };\n  handleCommit = async data => {\n    //\tconst response = await post.post(\"/post/\", this.state);\n  };\n  handlePostType = type => {\n    this.setState({type});\n    console.log(this.state.type);\n  }\n  //\n  handleSave = childState => {\n    this.setState({mainTitle: childState.mainTitle});\n    this.setState({content: childState.content});\n    this.setState({subTitle: childState.subTitle});\n    console.log(this.state);\n    localStorage.setItem('rememberPost', JSON.stringify(this.state));\n  };\n\n  render() {\n    return (\n\t<div className=\"posting\">\n\t  <div className=\"plain-post-form-0\">\n\t  <div className=\"plain-post-form-1\">\n\t\t  <div style={{\n\t\t\t  display: 'flex',\n\t\t\t  flexDirection:'row',\n\t\t  }}\n\t  className=\"plain-post-form-2\"\n\t  >\t\t\n\t\t<StyledPostForm\n            onSave={this.handleSave}\n            post={this.initValue()}\n          />\n\t\t  <StyledPostTypeSelector\n\t\t  \thandlePostType={this.handlePostType}\n\t\t  />\n\t\t  <StyledPostMarkdown \n\t\t\tpost={this.state}\n\t\t  />\n        </div>\n        <TagsInput\n          value={this.state.tags}\n          onChange={this.handleTagsChange}\n  \t\t/>\n\t\t<PostSubmit \n\t\t\tdata={this.handleCommit} \n\t\t\ttarget={post} \n\t\t\tmethod=\"post\"\n\t        value=\"Commit\"\n\t    />\n\t\t</div>\n\t</div>\n    </div>\n    );\n  }\n}\n\nexport default CreatePost;\n"]},"metadata":{},"sourceType":"module"}