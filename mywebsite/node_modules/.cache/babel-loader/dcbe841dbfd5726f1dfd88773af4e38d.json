{"ast":null,"code":"import _defineProperty from \"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { blog, auth } from '../apis/serverRequest';\nexport const signInLocal = ({\n  username,\n  password\n}) => async dispatch => {\n  const loginInfo = {\n    email: username,\n    password: password\n  };\n  const response = await auth.post('/local', loginInfo);\n  console.log(response);\n  dispatch({\n    type: \"LOCAL_SIGN_IN\",\n    payload: username\n  });\n};\n/*\nexport const signOutLocal = () => {\n\n}*/\n\nexport const signIn = id => {\n  return {\n    type: \"SIGN_IN\",\n    payload: id\n  };\n};\nexport const signOut = () => {\n  return {\n    type: \"SIGN_OUT\"\n  };\n};\nexport const updateEditorState = TextValue => {\n  return {\n    type: \"UPDATE_EDITOR_STATE\",\n    payload: TextValue.editorState\n  };\n};\nexport const updateEditorMarkdownState = TextValue => {\n  return {\n    type: \"UPDATE_EDITOR_MARKDOWN\",\n    payload: TextValue\n  };\n}; // this is relatied with posts\n\nexport const createPost = (content, userId) => async dispatch => {\n  const JsonData = JSON.stringify(_objectSpread({}, content, {\n    userId\n  }));\n  console.log(JsonData);\n  const res = await blog.post('/posts', JsonData);\n  dispatch({\n    type: \"CREATE_POST\",\n    payload: content\n  });\n};\nexport const editPost = formValue => {\n  return {\n    type: \"EDIT_POST\",\n    payload: formValue\n  };\n};\nexport const fetchPost = id => async dispatch => {\n  try {\n    const response = await blog.get(\"/posts/\".concat(id));\n    dispatch({\n      type: \"FETCH_POST\",\n      payload: response.data\n    });\n  } catch (error) {\n    console.log(\"error occured\" + error);\n    dispatch({\n      type: \"FETCH_POST\",\n      payload: {\n        error: \"error\"\n      }\n    });\n  }\n};\nexport const fetchPosts = page => async dispatch => {\n  const start = page * 5;\n  const end = (page + 1) * 5;\n  const posts = [];\n\n  for (let i = start; i < end; i++) {\n    try {\n      const response = await blog.get(\"/posts/\".concat(i));\n      posts.push(response.data);\n    } catch (error) {\n      console.log(\"error!\" + error);\n      return false;\n    }\n  }\n\n  dispatch({\n    type: \"FETCH_POSTS\",\n    payload: posts\n  });\n};\nexport const deletePost = () => {\n  return {\n    type: \"DELETE_POST\"\n  };\n}; //this is related with Serise\n\nexport const fetchSerises = page => async dispatch => {\n  const start = page * 5;\n  const end = (page + 1) * 5;\n  const serise = [];\n\n  for (let i = start; i < end; i++) {\n    try {\n      const response = await blog.get(\"/serise/\".concat(i));\n      serise.push(response.data);\n    } catch (error) {\n      console.log(\"error!\" + error);\n      return false;\n    }\n  }\n\n  dispatch({\n    type: \"FETCH_SERISES\",\n    payload: serise\n  });\n};\nexport const fetchSeriseElements = () => dispatch => {};\nexport const fetchBooks = page => async dispatch => {\n  const start = page * 5;\n  const end = (page + 1) * 5;\n  const books = [];\n\n  for (let i = start; i < end; i++) {\n    try {\n      const response = await blog.get(\"books/\".concat(i));\n      books.push(response.data);\n    } catch (error) {\n      console.log(\"error!\" + error);\n      return false;\n    }\n  }\n\n  dispatch({\n    type: \"FETCH_BOOKS\",\n    payload: books\n  });\n};","map":{"version":3,"sources":["/home/ec2-user/DUMDEV/mywebsite/src/actions/index.js"],"names":["blog","auth","signInLocal","username","password","dispatch","loginInfo","email","response","post","console","log","type","payload","signIn","id","signOut","updateEditorState","TextValue","editorState","updateEditorMarkdownState","createPost","content","userId","JsonData","JSON","stringify","res","editPost","formValue","fetchPost","get","data","error","fetchPosts","page","start","end","posts","i","push","deletePost","fetchSerises","serise","fetchSeriseElements","fetchBooks","books"],"mappings":"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","sourcesContent":["import { blog, auth } from '../apis/serverRequest';\n\nexport const signInLocal = ({username, password}) => async (dispatch)=> {\n\tconst loginInfo = { email:username, password:password };\n\tconst response = await auth.post('/local', loginInfo);\n\tconsole.log(response);\n\tdispatch({\n\t type: \"LOCAL_SIGN_IN\",\n\t payload: username\n\t });\n}\n/*\nexport const signOutLocal = () => {\n\n}*/\n\nexport const signIn = (id) => {\n\treturn ({\n\t\t\ttype: \"SIGN_IN\",\n\t\t\tpayload: id\n\t});\n}\nexport const signOut = () => {\n\treturn ({\n\t\ttype: \"SIGN_OUT\",\n\t});\n\n};\nexport const updateEditorState = (TextValue) => {\n\treturn {\n\t\ttype: \"UPDATE_EDITOR_STATE\",\n\t\tpayload: TextValue.editorState\n\t}\n}\n\nexport const updateEditorMarkdownState = (TextValue) => {\n\treturn {\n\t\ttype: \"UPDATE_EDITOR_MARKDOWN\",\n\t\tpayload: TextValue\n\t}\n}\n\n\n// this is relatied with posts\nexport const createPost = ( content, userId) => async (dispatch) => {\t\n\tconst JsonData = JSON.stringify({ ...content, userId })\n\tconsole.log(JsonData);\n\tconst res =  await blog.post('/posts', JsonData);\n\tdispatch ({\n\t\ttype: \"CREATE_POST\",\n\t\tpayload: content\n\t});\n}\nexport const editPost = (formValue) => {\t\n\treturn ({\n\t\ttype: \"EDIT_POST\",\n\t\tpayload: formValue\n\t});\n}\n\nexport const fetchPost = (id) => async dispatch => {\t\n\t\t\n\ttry{\n\t\tconst response = await blog.get(`/posts/${id}`);\n\t\tdispatch({\n\t\t\ttype: \"FETCH_POST\",\n\t\t\tpayload: response.data\n\t\t});\n\t}catch(error){\n\t\tconsole.log(\"error occured\"+error);\n\t\tdispatch({\n\t\t\ttype: \"FETCH_POST\",\n\t\t\tpayload: { error: \"error\" }\n\t\t});\n\t}\n}\n\nexport const fetchPosts = (page) => async dispatch => {\n\tconst start = page*5;\n\tconst end = (page+1)*5;\n\tconst posts = [];\n\tfor ( let i=start; i<end; i++){\n\t\ttry{\n\t\t\tconst response = await blog.get(`/posts/${i}`);\n\t\t\tposts.push(response.data);\n\t\t} catch(error) {\n\t\t\tconsole.log(\"error!\"+error);\n\t\t\treturn false;\n\t\t}\n\t}\n\tdispatch ({\n\t\t\ttype: \"FETCH_POSTS\",\n\t\t\tpayload: posts\n\t});\n}\n\nexport const deletePost = () => {\t\n\treturn ({\n\t\ttype: \"DELETE_POST\"\n\t});\n}\n\n//this is related with Serise\nexport const fetchSerises = (page) => async dispatch => {\n\tconst start = page*5;\n\tconst end = (page+1)*5;\n\tconst serise = [];\n\tfor ( let i=start; i<end; i++){\n\t\ttry{\n\t\t\tconst response = await blog.get(`/serise/${i}`);\n\t\t\tserise.push(response.data);\n\t\t} catch(error) {\n\t\t\tconsole.log(\"error!\"+error);\n\t\t\treturn false;\n\t\t}\n\t}\n\tdispatch ({\n\t\t\ttype: \"FETCH_SERISES\",\n\t\t\tpayload: serise\n\t});\n}\n\nexport const fetchSeriseElements = () => dispatch => {\n}\n\nexport const fetchBooks = (page) => async dispatch => {\n\tconst start = page*5;\n\tconst end = (page+1)*5;\n\tconst books = [];\n\t\n\tfor ( let i=start; i<end; i++ ) {\n\t\ttry{\n\t\t\tconst response = await blog.get(`books/${i}`);\n\t\t\tbooks.push(response.data);\n\t\t}catch(error){\n\t\t\tconsole.log(\"error!\"+error);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tdispatch({\n\t\ttype: \"FETCH_BOOKS\",\n\t\tpayload: books\n\t});\n}\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}