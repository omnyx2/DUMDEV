{"ast":null,"code":"import _defineProperty from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import{blog,auth}from'../apis/serverRequest';export var signInLocal=function signInLocal(_ref){var username=_ref.username,password=_ref.password;return(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var loginInfo,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:loginInfo={email:username,password:password};_context.next=3;return auth.post('/local',loginInfo);case 3:response=_context.sent;console.log(response);dispatch({type:\"LOCAL_SIGN_IN\",payload:username});case 6:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());};/*\nexport const signOutLocal = () => {\n\n}*/export var signIn=function signIn(id){return{type:\"SIGN_IN\",payload:id};};export var signOut=function signOut(){return{type:\"SIGN_OUT\"};};export var updateEditorState=function updateEditorState(TextValue){return{type:\"UPDATE_EDITOR_STATE\",payload:TextValue.editorState};};export var updateEditorMarkdownState=function updateEditorMarkdownState(TextValue){return{type:\"UPDATE_EDITOR_MARKDOWN\",payload:TextValue};};// this is relatied with posts\nexport var createPost=function createPost(content,userId){return(/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var JsonData,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:JsonData=JSON.stringify(_objectSpread({},content,{userId:userId}));console.log(JsonData);_context2.next=4;return blog.post('/posts',JsonData);case 4:res=_context2.sent;dispatch({type:\"CREATE_POST\",payload:content});case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref3.apply(this,arguments);};}());};export var editPost=function editPost(formValue){return{type:\"EDIT_POST\",payload:formValue};};export var fetchPost=function fetchPost(id){return(/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispatch){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return blog.get(\"/posts/\".concat(id));case 3:response=_context3.sent;dispatch({type:\"FETCH_POST\",payload:response.data});_context3.next=11;break;case 7:_context3.prev=7;_context3.t0=_context3[\"catch\"](0);console.log(\"error occured\"+_context3.t0);dispatch({type:\"FETCH_POST\",payload:{error:\"error\"}});case 11:case\"end\":return _context3.stop();}}},_callee3,null,[[0,7]]);}));return function(_x3){return _ref4.apply(this,arguments);};}());};export var fetchPosts=function fetchPosts(page){return(/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(dispatch){var start,end,posts,i,response;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:start=page*5;end=(page+1)*5;posts=[];i=start;case 4:if(!(i<end)){_context4.next=19;break;}_context4.prev=5;_context4.next=8;return blog.get(\"/posts/\".concat(i));case 8:response=_context4.sent;posts.push(response.data);_context4.next=16;break;case 12:_context4.prev=12;_context4.t0=_context4[\"catch\"](5);console.log(\"error!\"+_context4.t0);return _context4.abrupt(\"return\",false);case 16:i++;_context4.next=4;break;case 19:dispatch({type:\"FETCH_POSTS\",payload:posts});case 20:case\"end\":return _context4.stop();}}},_callee4,null,[[5,12]]);}));return function(_x4){return _ref5.apply(this,arguments);};}());};export var deletePost=function deletePost(){return{type:\"DELETE_POST\"};};//this is related with Serise\nexport var fetchSerises=function fetchSerises(page){return(/*#__PURE__*/function(){var _ref6=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(dispatch){var start,end,serise,i,response;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:start=page*5;end=(page+1)*5;serise=[];i=start;case 4:if(!(i<end)){_context5.next=19;break;}_context5.prev=5;_context5.next=8;return blog.get(\"/serise/\".concat(i));case 8:response=_context5.sent;serise.push(response.data);_context5.next=16;break;case 12:_context5.prev=12;_context5.t0=_context5[\"catch\"](5);console.log(\"error!\"+_context5.t0);return _context5.abrupt(\"return\",false);case 16:i++;_context5.next=4;break;case 19:dispatch({type:\"FETCH_SERISES\",payload:serise});case 20:case\"end\":return _context5.stop();}}},_callee5,null,[[5,12]]);}));return function(_x5){return _ref6.apply(this,arguments);};}());};export var fetchSeriseElements=function fetchSeriseElements(){return function(dispatch){};};export var fetchBooks=function fetchBooks(page){return(/*#__PURE__*/function(){var _ref7=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(dispatch){var start,end,books,i,response;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:start=page*5;end=(page+1)*5;books=[];i=start;case 4:if(!(i<end)){_context6.next=19;break;}_context6.prev=5;_context6.next=8;return blog.get(\"books/\".concat(i));case 8:response=_context6.sent;books.push(response.data);_context6.next=16;break;case 12:_context6.prev=12;_context6.t0=_context6[\"catch\"](5);console.log(\"error!\"+_context6.t0);return _context6.abrupt(\"return\",false);case 16:i++;_context6.next=4;break;case 19:dispatch({type:\"FETCH_BOOKS\",payload:books});case 20:case\"end\":return _context6.stop();}}},_callee6,null,[[5,12]]);}));return function(_x6){return _ref7.apply(this,arguments);};}());};","map":{"version":3,"sources":["/home/ec2-user/DUMDEV/mywebsite/src/actions/index.js"],"names":["blog","auth","signInLocal","username","password","dispatch","loginInfo","email","post","response","console","log","type","payload","signIn","id","signOut","updateEditorState","TextValue","editorState","updateEditorMarkdownState","createPost","content","userId","JsonData","JSON","stringify","res","editPost","formValue","fetchPost","get","data","error","fetchPosts","page","start","end","posts","i","push","deletePost","fetchSerises","serise","fetchSeriseElements","fetchBooks","books"],"mappings":"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","sourcesContent":["import { blog, auth } from '../apis/serverRequest';\n\nexport const signInLocal = ({username, password}) => async (dispatch)=> {\n\tconst loginInfo = { email:username, password:password };\n\tconst response = await auth.post('/local', loginInfo);\n\tconsole.log(response);\n\tdispatch({\n\t type: \"LOCAL_SIGN_IN\",\n\t payload: username\n\t });\n}\n/*\nexport const signOutLocal = () => {\n\n}*/\n\nexport const signIn = (id) => {\n\treturn ({\n\t\t\ttype: \"SIGN_IN\",\n\t\t\tpayload: id\n\t});\n}\nexport const signOut = () => {\n\treturn ({\n\t\ttype: \"SIGN_OUT\",\n\t});\n\n};\nexport const updateEditorState = (TextValue) => {\n\treturn {\n\t\ttype: \"UPDATE_EDITOR_STATE\",\n\t\tpayload: TextValue.editorState\n\t}\n}\n\nexport const updateEditorMarkdownState = (TextValue) => {\n\treturn {\n\t\ttype: \"UPDATE_EDITOR_MARKDOWN\",\n\t\tpayload: TextValue\n\t}\n}\n\n\n// this is relatied with posts\nexport const createPost = ( content, userId) => async (dispatch) => {\t\n\tconst JsonData = JSON.stringify({ ...content, userId })\n\tconsole.log(JsonData);\n\tconst res =  await blog.post('/posts', JsonData);\n\tdispatch ({\n\t\ttype: \"CREATE_POST\",\n\t\tpayload: content\n\t});\n}\nexport const editPost = (formValue) => {\t\n\treturn ({\n\t\ttype: \"EDIT_POST\",\n\t\tpayload: formValue\n\t});\n}\n\nexport const fetchPost = (id) => async dispatch => {\t\n\t\t\n\ttry{\n\t\tconst response = await blog.get(`/posts/${id}`);\n\t\tdispatch({\n\t\t\ttype: \"FETCH_POST\",\n\t\t\tpayload: response.data\n\t\t});\n\t}catch(error){\n\t\tconsole.log(\"error occured\"+error);\n\t\tdispatch({\n\t\t\ttype: \"FETCH_POST\",\n\t\t\tpayload: { error: \"error\" }\n\t\t});\n\t}\n}\n\nexport const fetchPosts = (page) => async dispatch => {\n\tconst start = page*5;\n\tconst end = (page+1)*5;\n\tconst posts = [];\n\tfor ( let i=start; i<end; i++){\n\t\ttry{\n\t\t\tconst response = await blog.get(`/posts/${i}`);\n\t\t\tposts.push(response.data);\n\t\t} catch(error) {\n\t\t\tconsole.log(\"error!\"+error);\n\t\t\treturn false;\n\t\t}\n\t}\n\tdispatch ({\n\t\t\ttype: \"FETCH_POSTS\",\n\t\t\tpayload: posts\n\t});\n}\n\nexport const deletePost = () => {\t\n\treturn ({\n\t\ttype: \"DELETE_POST\"\n\t});\n}\n\n//this is related with Serise\nexport const fetchSerises = (page) => async dispatch => {\n\tconst start = page*5;\n\tconst end = (page+1)*5;\n\tconst serise = [];\n\tfor ( let i=start; i<end; i++){\n\t\ttry{\n\t\t\tconst response = await blog.get(`/serise/${i}`);\n\t\t\tserise.push(response.data);\n\t\t} catch(error) {\n\t\t\tconsole.log(\"error!\"+error);\n\t\t\treturn false;\n\t\t}\n\t}\n\tdispatch ({\n\t\t\ttype: \"FETCH_SERISES\",\n\t\t\tpayload: serise\n\t});\n}\n\nexport const fetchSeriseElements = () => dispatch => {\n}\n\nexport const fetchBooks = (page) => async dispatch => {\n\tconst start = page*5;\n\tconst end = (page+1)*5;\n\tconst books = [];\n\t\n\tfor ( let i=start; i<end; i++ ) {\n\t\ttry{\n\t\t\tconst response = await blog.get(`books/${i}`);\n\t\t\tbooks.push(response.data);\n\t\t}catch(error){\n\t\t\tconsole.log(\"error!\"+error);\n\t\t\treturn false;\n\t\t}\n\t}\n\n\tdispatch({\n\t\ttype: \"FETCH_BOOKS\",\n\t\tpayload: books\n\t});\n}\n\n\n\n\n\n"]},"metadata":{},"sourceType":"module"}