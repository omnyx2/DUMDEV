{"ast":null,"code":"import _defineProperty from \"/home/ec2-user/DUMDEV/mywebsite/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/ec2-user/DUMDEV/mywebsite/src/components/pages/BooksPage.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { fetchBooks } from '../../actions';\n\nclass BookList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.booksLoader = async page => {\n      const endflag = await this.props.fetchBooks(page - 1);\n      const start = (page - 1) * 5;\n      const end = page * 5;\n      const books = [];\n\n      if (endflag === false) {\n        this.setState(state => {\n          return {\n            hasMoreItems: false\n          };\n        });\n      }\n\n      for (let i = start; i < end; i++) {\n        books.push(this.renderBook(this.props.books[i]));\n      }\n\n      this.setState(state => {\n        return {\n          prettyBooks: this.state.prettyBooks.concat(books)\n        };\n      });\n    };\n\n    this.state = {\n      hasMoreItems: true,\n      prettyBooks: []\n    };\n  }\n\n  renderBook(book) {\n    const _book = _objectSpread({}, book),\n          author = _book.author,\n          title = _book.title,\n          date = _book.date,\n          post = _book.post;\n\n    if (book === {}) return;\n    if (book === undefined) return;\n    return React.createElement(\"div\", {\n      className: \"book-content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 20\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"book-card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"book-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 22\n      },\n      __self: this\n    }, author), React.createElement(\"div\", {\n      className: \"book-author\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23\n      },\n      __self: this\n    }, title), React.createElement(\"div\", {\n      className: \"book-Intro\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24\n      },\n      __self: this\n    }, \"IntroIntroIntro\"), React.createElement(\"div\", {\n      className: \"book-date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 25\n      },\n      __self: this\n    }, date)));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"infinity-scroll\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, React.createElement(InfiniteScroll, {\n      pageStart: 0,\n      loadMore: this.booksLoader,\n      hasMore: this.state.hasMoreItems,\n      loader: React.createElement(\"div\", {\n        className: \"loader\",\n        key: 0,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, \"Loading...\"),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, this.state.prettyBooks));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    books: state.books,\n    currentId: state.auth.userId,\n    isSignedIn: state.auth.IsSignedIn\n  };\n};\n\nexport default connect(mapStateToProps, {\n  fetchBooks\n})(BookList);","map":{"version":3,"sources":["/home/ec2-user/DUMDEV/mywebsite/src/components/pages/BooksPage.js"],"names":["React","connect","InfiniteScroll","fetchBooks","BookList","Component","constructor","props","booksLoader","page","endflag","start","end","books","setState","state","hasMoreItems","i","push","renderBook","prettyBooks","concat","book","author","title","date","post","undefined","render","mapStateToProps","currentId","auth","userId","isSignedIn","IsSignedIn"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { fetchBooks } from '../../actions';\n\nclass BookList extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\thasMoreItems: true,\n\t\t\tprettyBooks:[]\n\t\t}\n\t}\n\n\trenderBook(book){\n\t\tconst { author, title, date, post } = { ...book };\t\t\n\t\tif(book === {}) return;\n\t\tif(book === undefined ) return;\n\t\treturn (\n\t\t\t<div className=\"book-content\">\n\t\t\t\t<div className=\"book-card\">\n\t\t\t\t\t<div className=\"book-title\">{ author }</div>\n\t\t\t\t\t<div className=\"book-author\">{ title }</div>\n\t\t\t\t\t<div className=\"book-Intro\">IntroIntroIntro</div>\n\t\t\t\t\t<div className=\"book-date\">{ date }</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n\t}\n\tbooksLoader = async (page) => {\n\t\tconst endflag = await this.props.fetchBooks(page-1);\n\t\tconst start = (page-1)*5;\n\t\tconst end = page*5;\n\t\tconst books = [];\n\t\tif(endflag === false){ \n\t\t\tthis.setState((state) => {\n\t\t\t\treturn { hasMoreItems: false}\n\t\t\t});\n\t\t}\n\t\tfor ( let i=start; i<end ; i++ ){\n\t\t\tbooks.push(this.renderBook(this.props.books[i]));\n\t\t}\n\t\tthis.setState((state) => {\n\t\t\t\treturn { prettyBooks: this.state.prettyBooks.concat(books)}\n\t\t});\n\t}\n\trender(){\n\t\treturn (\n\t\t\t<div className=\"infinity-scroll\">\n\t\t\t\t<InfiniteScroll\n\t\t\t\t\t\tpageStart={0}\n\t\t\t\t\t\tloadMore={this.booksLoader}\n\t\t\t\t\t\thasMore={this.state.hasMoreItems}\n\t\t\t\t\t\tloader={<div className=\"loader\" key={0}>Loading...</div>}\n\t\t\t\t>\n\t\t\t\t\t{ this.state.prettyBooks }\n\t\t\t\t</InfiniteScroll>\n\t\t</div>);\n\t}\n}\n\nconst mapStateToProps = (state) => {\n  return {\n  \tbooks: state.books,\n\tcurrentId: state.auth.userId,\n\tisSignedIn: state.auth.IsSignedIn\n  };\n}\n\nexport default connect(mapStateToProps, { fetchBooks })(BookList); \n"]},"metadata":{},"sourceType":"module"}